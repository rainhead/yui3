<!doctype html>
<html>
<head>
    <title>Test Page</title>
</head>
<body class="yui3-skin-sam">
<div id="x"></div>
<button id="go">call <code>other()</code></button>

<!--script src="/dev/yui/yui3/build/simpleyui/simpleyui.js"></script-->
<!--script src="http://yui.yahooapis.com/3.1.1/build/yui/yui.js"></script-->
<script src="/dev/yui/yui3/build/yui/yui.js"></script>
<script src="/dev/yui/yui3/build/rpc/jsonrpc.js"></script>
<script>
YUI({ filter: 'raw' }).use('node', 'rpc-base', 'rpc-json', function (Y) {

    var rpc = new Y.RPC({ url: 'rpc.php', type: 'json' });

    rpc.exec('foo', ['bar'], function (res) {
        Y.one("#x").append("<p>" + res.response + "</p>");
    });

    rpc.on('apiready', function () {
        // The outbound post data should NOT have an id
        this.last('cow standing');
    });

    Y.one("button").on('click', function () {
        rpc.other(function (res) {
            Y.one("#x").append(res.response);
        });
    });
});
</script>
</body>
</html>
