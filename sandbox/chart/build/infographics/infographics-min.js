YUI.add("infographics",function(C){function T(Y){this._createId();this._keys={};this._data=[];T.superclass.constructor.apply(this,arguments);}T.NAME="baseAxis";T.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(Y){this._roundingUnit=Y;if(this._roundMinAndMax){this._updateMinAndMax();}return Y;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(Y){if(this._roundMinAndMax==Y){return Y;}this._roundMinAndMax=Y;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(Y){if(Y===this._dataProvider){return;}if(this._dataProvider){}Y=C.merge(Y);this._dataProvider={data:Y.data.concat()};this._dataClone=this._dataProvider.data.concat();return Y;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(Y){this._setMaximum=Y;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(Y){this._setMinimum=Y;return Y;}},autoMax:{getter:function(){return this._autoMax;},setter:function(Y){this._autoMax=Y;}},autoMin:{getter:function(){return this._autoMin;},setter:function(Y){this._autoMin=Y;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};C.extend(T,C.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=C.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(k){if(this._keys.hasOwnProperty(k)){return;}this._dataClone=this._dataProvider.data.concat();var j=this._keys,Y={},i={axis:this};this._setDataByKey(k);Y[k]=j[k].concat();this._updateMinAndMax();i.keysAdded=Y;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",i);}else{this.fire("axisUpdate",i);}},_setDataByKey:function(m){var l,n,j=[],k=this._dataClone.concat(),Y=k.length;for(l=0;l<Y;++l){n=k[l];j[l]=n[m];}this._keys[m]=j;this._data=this._data.concat(j);},removeKey:function(n){if(!this._keys.hasOwnProperty(n)){return;}var i,o,Y={},k=[],j={},m=this._keys,l={};j[n]=m[n].concat();for(i in m){if(m.hasOwnProperty(i)){if(i==n){continue;}o=m[i];k=k.concat(o);Y[i]=o;}}m=Y;this._data=k;this._updateMinAndMax();l.keysRemoved=j;this.fire("axisUpdate",l);},getKeyValueAt:function(i,Y){var k=NaN,j=this._keys;if(j[i]&&j[i][Y]){k=j[i][Y];}return k;},getDataByKey:function(i){var Y=this._keys;if(Y[i]){return Y[i];}return null;},_updateMinAndMax:function(){var n=this.get("data"),j=0,m=0,Y,k,l;if(n&&n.length&&n.length>0){Y=n.length;j=m=n[0];if(Y>1){for(l=1;l<Y;l++){k=n[l];if(isNaN(k)){continue;}j=Math.max(k,j);m=Math.min(k,m);}}}this._dataMaximum=j;this._dataMinimum=m;},newDataUpdateHandler:function(){var Y,k=this._keys,j={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(Y in k){if(k.hasOwnProperty(Y)){k[Y]=this._setDataByKey(Y);this._data=this._data.concat(k[Y]);}}this._updateMinAndMax();j.keysAdded=k;this.fire("axisUpdate",j);},_keyDataUpdateHandler:function(){var Y=false,l={},m=l.keysAdded,n=l.keysRemoved,k=this._keys,j;for(j in k){if(k.hasOwnProperty(j)){if(m.hasOwnProperty(j)){Y=true;k[j]=k[j];}if(n.hasOwnProperty(j)){Y=true;k[j]=[];}}}if(!Y){return;}this._data=[];for(j in k){if(k.hasOwnProperty(j)){this._data=this._data.concat(k[j]);}}this._updateMinAndMax();l.keysAdded=m;l.keysRemoved=n;this.fire("axisUpdate",l);},getTotalMajorUnits:function(j,Y){var i;if(j.determinant==="count"){i=j.count;}else{if(j.determinant==="distance"){i=(Y/j.distance)+1;}}return Math.min(i,this._data.length);},getLabelAtPosition:function(m,i,k){var j=this.get("minimum"),Y=this.get("maximum"),l=(m/i*(Y-j))+j;return this.getFormattedLabel(l,k);},getFormattedLabel:function(i,Y){return i;}});C.BaseAxis=T;function P(Y){P.superclass.constructor.apply(this,arguments);}P.NAME="numericAxis";P.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(Y){if(Y==this._alwaysShowZero){return;}this._alwaysShowZero=Y;this._updateMinAndMax();return Y;}}};C.extend(P,C.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var o=this.get("data"),j=0,n=0,Y,k,m,l;if(o&&o.length&&o.length>0){Y=o.length;j=n=o[0];if(Y>1){for(m=1;m<Y;m++){k=o[m];if(isNaN(k)){if(C.Lang.isObject(k)){for(l in k){if(k.hasOwnProperty(l)){j=Math.max(k[l],j);n=Math.min(k[l],n);}}}continue;}j=Math.max(k,j);n=Math.min(k,n);}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(j,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(n,this._roundingUnit);}else{this._dataMaximum=j;this._dataMinimum=n;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(j,i){i=i||1;if(i===0){return j;}var Y=Math.round(this._roundToPrecision(j/i,10))*i;return this._roundToPrecision(Y,10);},_roundUpToNearest:function(i,Y){Y=Y||1;if(Y===0){return i;}return Math.ceil(this._roundToPrecision(i/Y,10))*Y;},_roundDownToNearest:function(i,Y){Y=Y||1;if(Y===0){return i;}return Math.floor(this._roundToPrecision(i/Y,10))*Y;},_roundToPrecision:function(j,Y){Y=Y||0;var i=Math.pow(10,Y);return Math.round(i*j)/i;},getFormattedLabel:function(i,Y){return C.DataType.Number.format(i,Y);}});C.NumericAxis=P;function F(Y){F.superclass.constructor.apply(this,arguments);}F.NAME="stackedAxis";C.extend(F,C.NumericAxis,{_updateMinAndMax:function(){var o=0,j=0,n=0,Y=0,m=0,k=0,p,l,q=this.get("keys");for(p in q){if(q.hasOwnProperty(p)){m=Math.max(m,q[p].length);}}for(;k<m;++k){n=0;Y=0;for(p in q){if(q.hasOwnProperty(p)){l=q[p][k];if(isNaN(l)){continue;
}if(l>=0){n+=l;}else{Y+=l;}}}if(n>0){o=Math.max(o,n);}else{o=Math.max(o,Y);}if(Y<0){j=Math.min(j,Y);}else{j=Math.min(j,n);}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(o,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(j,this._roundingUnit);}else{this._dataMaximum=o;this._dataMinimum=j;}if(this._alwaysShowZero&&j>0){this._dataMinimum=Math.min(0,this._dataMinimum);}}});C.StackedAxis=F;function E(Y){E.superclass.constructor.apply(this,arguments);}E.NAME="timeAxis";E.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(Y){this._setMaximum=this._getNumber(Y);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;},setter:function(Y){this._setMinimum=this._getNumber(Y);this.fire("dataChange");}}};C.extend(E,C.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(m){var n,j=[],l=this._dataClone.concat(),k,o,Y=l.length;for(k=0;k<Y;++k){n=l[k][m];if(C.Lang.isDate(n)){o=n.valueOf();}else{if(!C.Lang.isNumber(n)){o=new Date(n.toString()).valueOf();}else{o=n;}}j[k]=o;}this._keys[m]=j;this._data=this._data.concat(j);},_getNumber:function(Y){if(C.Lang.isDate(Y)){Y=Y.valueOf();}else{if(!C.Lang.isNumber(Y)){Y=new Date(Y.toString()).valueOf();}}return Y;},updateMaxByPosition:function(i){var Y=this._dataMaximum-this._dataMinimum;i=Math.round(i*100)/100;i=i*Y;i+=this._dataMinimum;this.set("maximum",i);},updateMinByPosition:function(i){var Y=this._dataMaximum-this._dataMinimum;i=Math.round(i*100)/100;i=i*Y;i+=this._dataMinimum;this.set("minimum",i);},updateMinAndMaxByPosition:function(j,l,i){var k=j/i,Y=l/i;k+=this._dataMinimum;Y+=this._dataMaximum;this._setMaximum=this._getNumber(Y);this._setMinimum=this._getNumber(k);this.fire("dataChange");},getFormattedLabel:function(i,Y){return C.DataType.Date.format(C.DataType.Date.parse(i),{format:Y});}});C.TimeAxis=E;function H(Y){H.superclass.constructor.apply(this,arguments);}H.NAME="categoryAxis";C.extend(H,C.BaseAxis,{_indices:null,GUID:"yuicategoryaxis",_dataType:"category",_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(m){var l,n,j=[],o=[],k=this._dataClone.concat(),Y=k.length;if(!this._indices){this._indices={};}for(l=0;l<Y;++l){n=k[l];j[l]=l;o[l]=n[m];}this._indices[m]=j;this._keys[m]=o.concat();this._data=this._data.concat(o);},getDataByKey:function(i){var Y=this._indices;if(Y[i]){return Y[i];}return null;},getTotalMajorUnits:function(i,Y){return this._data.length;},getLabelAtPosition:function(m,Y,l){var k=this._data.length-1,j=Math.round(m/(Y/k));return this._data[j];}});C.CategoryAxis=H;function b(Y){b.superclass.constructor.apply(this,arguments);}b.NAME="renderer";b.ATTRS={node:{value:null},graphic:{value:null},styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(Y){this._styles=this._setStyles(Y);return this._styles;},validator:function(Y){return C.Lang.isObject(Y);}}};C.extend(b,C.Widget,{renderUI:function(){this._setNode();if(!this.get("graphic")){this._setCanvas();}},bindUI:function(){this.after("stylesChange",C.bind(this._updateHandler,this));},syncUI:function(){this.draw();},_updateHandler:function(Y){if(this.get("rendered")){this.draw();}},_setNode:function(){var Y=this.get("contentBox"),j=document.createElement("div"),i=j.style;Y.appendChild(j);i.position="absolute";i.display="block";i.top="0px";i.left="0px";i.width="100%";i.height="100%";this.set("node",j);},_setCanvas:function(){this.set("graphic",new C.Graphic());this.get("graphic").render(this.get("contentBox"));},_newStyles:null,_styles:null,_setStyles:function(i){var Y=this.get("styles");return this._mergeStyles(i,Y);},_mergeStyles:function(i,Y){this._newStyles={};if(!Y){Y={};}C.Object.each(i,function(l,k,j){if(Y.hasOwnProperty(k)&&C.Lang.isObject(l)&&!C.Lang.isArray(l)){Y[k]=this._mergeStyles(l,Y[k]);}else{Y[k]=l;this._newStyles[k]=l;}},this);return Y;},_getDefaultStyles:function(){return{};}});C.Renderer=b;function J(Y){J.superclass.constructor.apply(this,arguments);}J.NAME="marker";J.ATTRS={series:{value:null},drawMethod:{getter:function(){return this._drawMethod;},setter:function(Y){this._drawMethod=Y;return Y;}},index:{value:null},state:{value:"off"}};C.extend(J,C.Renderer,{bindUI:function(){this.after("stylesChange",C.bind(this._updateHandler,this));this.after("stateChange",C.bind(this._updateHandler,this));},renderUI:function(){if(!this.get("graphic")){this._setCanvas();}},_updateHandler:function(Y){if(this.get("rendered")){this._update();}},_handleMouseOver:function(Y){this.set("state","over");},_handleMouseDown:function(Y){this.set("state","down");},_handleMouseOut:function(Y){this.set("state","off");},_getStateStyles:function(){var k=this._mergeStyles(this.get("styles"),{}),l=this.get("state"),m,i,j,Y=0,n=0;m={fill:this._mergeStyles(k.fill,{}),border:this._mergeStyles(k.border,{}),shape:k.shape,width:k.width,height:k.height,props:this._mergeStyles(k.props,{})};if((l==="over"||l==="down")&&k[l]){m=this._mergeStyles(k[l],m);}i=m.width;j=m.height;m.x=Y;m.y=n;m.width=i;m.height=j;this.set("width",i);this.set("height",j);return m;},draw:function(){var j=this._getStateStyles(),Y=j.width,i=j.height,k=this.get("graphic");this._shape=k.getShape(j);C.one(this._shape.node).addClass("yui3-seriesmarker");},_shape:null,_update:function(){this.get("graphic").updateShape(this._shape,this._getStateStyles());},_getDefaultStyles:function(){return{fill:{type:"solid",color:"#000000",alpha:1,colors:null,alphas:null,ratios:null},border:{color:"#000000",weight:1,alpha:1},width:6,height:6,shape:"circle",padding:{top:0,left:0,right:0,bottom:0},over:null,down:null};}});C.Marker=J;function d(Y){d.superclass.constructor.apply(this,arguments);}d.NAME="pieSeries";d.ATTRS={type:{value:"pie"},order:{value:NaN},graph:{value:null},categoryAxis:{value:null,validator:function(Y){return Y!==this.get("categoryAxis");
},lazyAdd:false},valueAxis:{value:null,validator:function(Y){return Y!==this.get("valueAxis");},lazyAdd:false},categoryKey:{value:null,validator:function(Y){return Y!==this.get("categoryKey");}},valueKey:{value:null,validator:function(Y){return Y!==this.get("valueKey");}},categoryDisplayName:{setter:function(Y){this._categoryDisplayName=Y;return Y;},getter:function(){return this._categoryDisplayName||this.get("categoryKey");}},valueDisplayName:{setter:function(Y){this._valueDisplayName=Y;return Y;},getter:function(){return this._valueDisplayName||this.get("valueKey");}},slices:null};C.extend(d,C.Renderer,{_categoryDisplayName:null,_valueDisplayName:null,renderUI:function(){this._setNode();},bindUI:function(){var Y=this.get("categoryAxis"),i=this.get("valueAxis");if(Y){Y.after("axisReady",C.bind(this._categoryAxisChangeHandler,this));Y.after("axisUpdate",C.bind(this._categoryAxisChangeHandler,this));}if(i){i.after("axisReady",C.bind(this._valueAxisChangeHandler,this));i.after("axisUpdate",C.bind(this._valueAxisChangeHandler,this));}this.after("categoryAxisChange",C.bind(this.categoryAxisChangeHandler,this));this.after("valueAxisChange",C.bind(this.valueAxisChangeHandler,this));this.after("stylesChange",C.bind(this._updateHandler,this));C.delegate("mouseover",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mousedown",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseup",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseout",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},GUID:"pieseries",_categoryAxisChangeHandler:function(Y){if(this.get("rendered")&&this.get("categoryKey")&&this.get("valueKey")){this.draw();}},_valueAxisChangeHandler:function(Y){if(this.get("rendered")&&this.get("categoryKey")&&this.get("valueKey")){this.draw();}},draw:function(){var j=C.Node.one(this._parentNode).get("parentNode"),Y=j.get("offsetWidth"),i=j.get("offsetHeight");if(!isNaN(Y)&&!isNaN(i)&&Y>0&&i>0){this.drawSeries();}},getMarker:function(l){var i,j=this._markerCache,m=l.styles,k=l.index;if(j.length>0){i=j.shift();i.set("index",k);i.set("series",this);if(i.get("styles")!==m){i.set("styles",m);}}else{l.series=this;i=new C.Marker(l);var Y=C.one(this.get("node"));i.render(Y);}this._markers.push(i);this._markerNodes.push(C.one(i.get("node")));return i;},_createMarkerCache:function(){if(this._markers){this._markerCache=this._markers.concat();}else{this._markerCache=[];}this._markers=[];this._markerNodes=[];},_clearMarkerCache:function(){var j=this._markerCache.length,l=0,k,Y;for(;l<j;++l){k=Y[l];k.parentNode.removeChild(k);}this._markerCache=[];},drawSeries:function(){var j=this.get("valueAxis").getDataByKey(this.get("valueKey")).concat(),AC=this.get("categoryAxis").getDataByKey(this.get("categoryKey")).concat(),m=0,AL=j.length,t=this.get("styles"),Y=t.fillColors,AM=t.fillAlphas||["1"],r=t.borderColors,k=t.borderWeights,l=t.borderAlphas,AN=k.concat(),v=r.concat(),y=l.concat(),AI,AK,z=t.padding,AE=C.Node.one(this._parentNode).get("parentNode"),x=AE.get("offsetWidth")-(z.left+z.right),AH=AE.get("offsetHeight")-(z.top+z.bottom),q=0,s=x/2,AA=AH/2,n=Math.min(s,AA),AG=0,AD,AJ=0,AB,AF,o,u,p;for(;AG<AL;++AG){AD=j[AG];j.push(AD);if(!isNaN(AD)){m+=AD;}}AI=Y.concat();AK=AM.concat();this._createMarkerCache();for(AG=0;AG<AL;AG++){AD=j[AG];if(m===0){AJ=360/j.length;}else{AJ=360*(AD/m);}AJ=Math.round(AJ);if(AI.length<1){AI=Y.concat();}if(AK.length<1){AK=AM.concat();}if(AN.length<1){AN=k.concat();}if(v.length<1){v=r.concat();}if(y.length<1){y=l.concat();}o=AN.shift();AB=v.shift();AF=y.shift();u={border:{color:AB,weight:o,alpha:AF},fill:{color:AI.shift(),alpha:AK.shift()},shape:"wedge",props:{arc:AJ,radius:n,startAngle:q,x:s,y:AA},width:x,height:AH};p=this.getMarker.apply(this,[{index:AG,styles:u}]);q+=AJ;}this._clearMarkerCache();},_markerEventHandler:function(j){var i=j.type,Y=C.Widget.getByNode(j.currentTarget);switch(i){case"mouseout":Y.set("state","off");break;case"mouseover":Y.set("state","over");break;case"mouseup":Y.set("state","over");break;case"mousedown":Y.set("state","down");break;}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0},fillColors:["#00b8bf","#8dd5e7","#c0fff6","#ffa928","#edff9f","#d00050","#c6c6c6","#c3eafb","#fcffad","#cfff83","#444444","#4d95dd","#b8ebff","#60558f","#737d7e","#a64d9a","#8e9a9b","#803e77"],fillAlphas:["1"],borderColors:["#000000"],borderWeights:["0"],borderAlphas:["1"],over:{borderColors:["#000000"],fillAlphas:[1]}};}});C.PieSeries=d;function g(Y){g.superclass.constructor.apply(this,arguments);}g.NAME="cartesianSeries";g.ATTRS={xDisplayName:{getter:function(){return this._xDisplayName||this.get("xKey");},setter:function(Y){this._xDisplayName=Y;return Y;}},yDisplayName:{getter:function(){return this._yDisplayName||this.get("yKey");},setter:function(Y){this._yDisplayName=Y;return Y;}},type:{value:"cartesian"},order:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(Y){return Y!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(Y){return Y!==this.get("yAxis");},lazyAdd:false},xKey:{value:null,validator:function(Y){return Y!==this.get("xKey");}},yKey:{value:null,validator:function(Y){return Y!==this.get("yKey");}},xData:{value:null},yData:{value:null},markers:{getter:function(){return this._markers;}},direction:{value:"horizontal"}};C.extend(g,C.Renderer,{_xDisplayName:null,_yDisplayName:null,_leftOrigin:null,_bottomOrigin:null,bindUI:function(){var i=this.get("xAxis"),Y=this.get("yAxis");if(i){i.after("axisReady",C.bind(this._xAxisChangeHandler,this));i.after("axisUpdate",C.bind(this._xAxisChangeHandler,this));}if(Y){Y.after("axisReady",C.bind(this._yAxisChangeHandler,this));Y.after("axisUpdate",C.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",C.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",C.bind(this.yAxisChangeHandler,this));
this.after("stylesChange",C.bind(this._updateHandler,this));},GUID:"yuicartesianseries",_xAxisChangeHandler:function(Y){var i=this._updateAxisData();if(this.get("rendered")&&i){this.draw();}},_yAxisChangeHandler:function(Y){var i=this._updateAxisData();if(this.get("rendered")&&i){this.draw();}},_updateAxisData:function(){var k=this.get("xAxis"),i=this.get("yAxis"),j=this.get("xKey"),Y=this.get("yKey");if(!k||!i||!j||!Y){return false;}this.set("xData",k.getDataByKey(j));this.set("yData",i.getDataByKey(Y));return true;},syncUI:function(){if(this.get("xData")&&this.get("yData")){this.draw();}else{if(this._updateAxisData()){this.draw();}}},_markers:null,_markerCache:null,setAreaData:function(){var AF,AD,v=C.Node.one(this._parentNode).get("parentNode"),q=v.get("offsetWidth"),z=v.get("offsetHeight"),s=this.get("styles").padding,u=s.left,AC=s.top,n=q-(u+s.right),y=z-(AC+s.bottom),t=[],AH=[],p=this.get("xAxis"),j=this.get("yAxis"),AG=p.get("maximum"),AB=p.get("minimum"),k=j.get("maximum"),Y=j.get("minimum"),m=n/(AG-AB),r=y/(k-Y),l=this.get("xData").concat(),AA=this.get("yData").concat(),o,AE=this.get("direction"),x=0;o=l.length;if(AE==="vertical"){AA=AA.reverse();}if(this.get("graphic")){this.get("graphic").setSize(q,z);}this._leftOrigin=Math.round(((0-AB)*m)+u);this._bottomOrigin=Math.round((y+AC)-(0-Y)*r);for(;x<o;++x){AF=Math.round((((l[x]-AB)*m)+u));AD=Math.round(((y+AC)-(AA[x]-Y)*r));t.push(AF);AH.push(AD);}this.set("xcoords",t);this.set("ycoords",AH);},draw:function(){var j=C.Node.one(this._parentNode).get("parentNode"),Y=j.get("offsetWidth"),i=j.get("offsetHeight");if(!isNaN(Y)&&!isNaN(i)&&Y>0&&i>0){this.setAreaData();this.drawSeries();this.fire("drawingComplete");}},getCurveControlPoints:function(m,p){var n=[],k=1,j=m.length-1,Y=[],o=[];if(j<1){return null;}n[0]={startx:m[0],starty:p[0],endx:m[1],endy:p[1]};if(j===1){n[0].ctrlx1=(2*m[0]+m[1])/3;n[0].ctrly2=(2*p[0]+p[1])/3;n[0].ctrlx2=2*n[0].ctrlx1-m[0];n[0].ctrly2=2*n[0].ctrly1-p[0];return n;}for(;k<j;++k){n.push({startx:Math.round(m[k]),starty:Math.round(p[k]),endx:Math.round(m[k+1]),endy:Math.round(p[k+1])});Y[k]=4*m[k]+2*m[k+1];o[k]=4*p[k]+2*p[k+1];}Y[0]=m[0]+(2*m[1]);Y[j-1]=(8*m[j-1]+m[j])/2;Y=this.getControlPoints(Y.concat());o[0]=p[0]+(2*p[1]);o[j-1]=(8*p[j-1]+p[j])/2;o=this.getControlPoints(o.concat());for(k=0;k<j;++k){n[k].ctrlx1=Math.round(Y[k]);n[k].ctrly1=Math.round(o[k]);if(k<j-1){n[k].ctrlx2=Math.round(2*m[k+1]-Y[k+1]);n[k].ctrly2=Math.round(2*p[k+1]-o[k+1]);}else{n[k].ctrlx2=Math.round((m[j]+Y[j-1])/2);n[k].ctrly2=Math.round((p[j]+o[j-1])/2);}}return n;},getControlPoints:function(o){var k=o.length,j=[],n=[],Y=2,m=1;j[0]=o[0]/Y;for(;m<k;++m){n[m]=1/Y;Y=(m<k-1?4:3.5)-n[m];j[m]=(o[m]-j[m-1])/Y;}for(m=1;m<k;++m){j[k-m-1]-=n[k-m]*j[k-m];}return j;},_stackCoordinates:function(){var t=this.get("direction"),k=C.Node.one(this._parentNode).get("parentNode"),o=k.get("offsetHeight"),l=this.get("order"),r=this.get("type"),u=this.get("graph"),j=u.seriesTypes[r],n=0,q,s=this.get("xcoords"),m=this.get("ycoords"),p,Y;if(l===0){return;}p=j[l-1].get("xcoords").concat();Y=j[l-1].get("ycoords").concat();if(t==="vertical"){q=p.length;for(;n<q;++n){if(!isNaN(p[n])&&!isNaN(s[n])){s[n]+=p[n];}}}else{q=Y.length;for(;n<q;++n){if(!isNaN(Y[n])&&!isNaN(m[n])){m[n]=Y[n]-(o-m[n]);}}}},_getAllStackedCoordinates:function(o){var k=this.get("order"),m=this.get("type"),p=this.get("graph"),n=this.get("direction"),j=p.seriesTypes[m],i,Y=this.get(o).concat(),l=Y[0];if(k>0){i=j[k-1].get(o).concat();Y=Y.concat(i.concat().reverse());Y.push(Y[0]);}else{if(n==="vertical"){if(o==="xcoords"){Y.push(this._leftOrigin);Y.push(this._leftOrigin);}else{Y.push(Y[Y.length-1]);Y.push(l);}}else{if(o==="xcoords"){Y.push(Y[Y.length-1]);Y.push(l);}else{Y.push(this._bottomOrigin);Y.push(this._bottomOrigin);}}}return Y;},getMarker:function(k){var Y,i=this._markerCache,l=k.styles,j=k.index;if(i.length>0){Y=i.shift();Y.set("index",j);Y.set("series",this);if(Y.get("styles")!==l){Y.set("styles",l);}}else{k.series=this;Y=new C.Marker(k);Y.render(this.get("node"));}this._markers.push(Y);this._markerNodes.push(C.one(Y.get("node")));return Y;},_createMarkerCache:function(){if(this._markers){this._markerCache=this._markers.concat();}else{this._markerCache=[];}this._markers=[];this._markerNodes=[];},_clearMarkerCache:function(){var j=this._markerCache.length,l=0,k,Y;for(;l<j;++l){k=Y[l];k.parentNode.removeChild(k);}this._markerCache=[];},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}});C.CartesianSeries=g;function Z(Y){Z.superclass.constructor.apply(this,arguments);}Z.NAME="markerSeries";Z.ATTRS={type:{value:"marker"}};C.extend(Z,C.CartesianSeries,{renderUI:function(){this._setNode();},bindUI:function(){C.delegate("mouseover",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mousedown",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseup",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseout",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},drawSeries:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var Y=this.get("styles"),u=Y.width,o=Y.height,s=this.get("xcoords"),m=this.get("ycoords"),n=0,p=s.length,r=m[0],k,l,t,q=u/2,j=o/2;this._createMarkerCache();for(;n<p;++n){r=(m[n]-q)+"px";k=(s[n]-j)+"px";l=this.getMarker.apply(this,[{index:n,styles:Y}]);t=l.get("boundingBox");t.setStyle("position","absolute");t.setStyle("top",r);t.setStyle("left",k);}this._clearMarkerCache();},_markerEventHandler:function(m){var o=m.type,k=C.Widget.getByNode(m.currentTarget),q,l,p=this.get("xcoords"),Y=this.get("ycoords"),j=k.get("index")||C.Array.indexOf(this.get("markers"),k),n=k.get("boundingBox");switch(o){case"mouseout":k.set("state","off");break;case"mouseover":k.set("state","over");break;case"mouseup":k.set("state","over");break;case"mousedown":k.set("state","down");break;}q=k.get("width");l=k.get("height");
n.setStyle("left",(p[j]-q/2)+"px");n.setStyle("top",(Y[j]-l/2)+"px");},_getDefaultStyles:function(){return{fill:{type:"solid",color:"#000000",alpha:1,colors:null,alphas:null,ratios:null},border:{color:"#000000",weight:1,alpha:1},width:6,height:6,shape:"circle",padding:{top:0,left:0,right:0,bottom:0}};}});C.MarkerSeries=Z;function N(Y){N.superclass.constructor.apply(this,arguments);}N.NAME="lineSeries";N.ATTRS={type:{value:"line"}};C.extend(N,C.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var q=this.get("xcoords"),AA=this.get("ycoords"),t=q.length,k=q[0],j=AA[0],z=k,x=j,w,u,s,m=this.get("styles"),v=m.lineType,y=m.dashLength,o=m.gapSpace,n=m.connectDiscontinuousPoints,Y=m.discontinuousType,l=m.discontinuousDashLength,r=m.discontinuousGapSpace,p=this.get("graphic");p.clear();p.lineStyle(m.weight,m.color);p.moveTo(k,j);for(s=1;s<t;s=++s){w=q[s];u=AA[s];if(isNaN(u)){z=w;x=u;continue;}if(z==k){if(v!="dashed"){p.lineTo(w,u);}else{this.drawDashedLine(z,x,w,u,y,o);}}else{if(!n){p.moveTo(w,u);}else{if(Y!="solid"){this.drawDashedLine(z,x,w,u,l,r);}else{p.lineTo(w,u);}}}k=z=w;j=x=u;}p.end();},drawDashedLine:function(t,x,j,v,l,k){l=l||10;k=k||10;var n=l+k,q=j-t,u=v-x,w=Math.sqrt(Math.pow(q,2)+Math.pow(u,2)),o=Math.floor(Math.abs(w/n)),m=Math.atan2(u,q),s=t,r=x,p,Y=this.get("graphic");q=Math.cos(m)*n;u=Math.sin(m)*n;for(p=0;p<o;++p){Y.moveTo(s,r);Y.lineTo(s+Math.cos(m)*l,r+Math.sin(m)*l);s+=q;r+=u;}Y.moveTo(s,r);w=Math.sqrt((j-s)*(j-s)+(v-r)*(v-r));if(w>l){Y.lineTo(s+Math.cos(m)*l,r+Math.sin(m)*l);}else{if(w>0){Y.lineTo(s+Math.cos(m)*w,r+Math.sin(m)*w);}}Y.moveTo(j,v);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});C.LineSeries=N;function K(Y){K.superclass.constructor.apply(this,arguments);}K.NAME="splineSeries";K.ATTRS={type:{value:"spline"}};C.extend(K,C.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var r=this.get("xcoords"),m=this.get("ycoords"),t=this.getCurveControlPoints(r,m),n=t.length,p,o,k,j,s,q,l=0,u=this.get("styles"),Y=this.get("graphic");Y.clear();Y.lineStyle(u.weight,u.color);Y.moveTo(r[0],m[0]);for(;l<n;l=++l){s=t[l].endx;q=t[l].endy;p=t[l].ctrlx1;o=t[l].ctrlx2;k=t[l].ctrly1;j=t[l].ctrly2;Y.curveTo(p,k,o,j,s,q);}Y.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,padding:{top:0,left:0,right:0,bottom:0}};}});C.SplineSeries=K;function V(Y){V.superclass.constructor.apply(this,arguments);}V.NAME="areaSplineSeries";V.ATTRS={type:{value:"areaSpline"}};C.extend(V,C.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var t=this.get("xcoords"),o=this.get("ycoords"),v=this.getCurveControlPoints(t,o),p=v.length,r,q,m,l,u,s,n=0,k=t[0],j=o[0],w=this.get("styles"),Y=this.get("graphic");Y.clear();Y.beginFill(w.color,w.alpha);Y.moveTo(k,j);for(;n<p;n=++n){u=v[n].endx;s=v[n].endy;r=v[n].ctrlx1;q=v[n].ctrlx2;m=v[n].ctrly1;l=v[n].ctrly2;Y.curveTo(r,m,q,l,u,s);}if(this.get("direction")==="vertical"){Y.lineTo(this._leftOrigin,s);Y.lineTo(this._leftOrigin,j);}else{Y.lineTo(u,this._bottomOrigin);Y.lineTo(k,this._bottomOrigin);}Y.lineTo(k,j);Y.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});C.AreaSplineSeries=V;function G(Y){G.superclass.constructor.apply(this,arguments);}G.NAME="stackedSplineSeries";G.ATTRS={type:{value:"stackedSpline"}};C.extend(G,C.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var r=this.get("xcoords"),m=this.get("ycoords"),t,n,p,o,k,j,s,q,l=0,u=this.get("styles"),Y=this.get("graphic");this._stackCoordinates();t=this.getCurveControlPoints(r.concat(),m.concat());n=t.length;Y.clear();Y.lineStyle(u.weight,u.color);Y.moveTo(r[0],m[0]);for(;l<n;l=++l){s=t[l].endx;q=t[l].endy;p=t[l].ctrlx1;o=t[l].ctrlx2;k=t[l].ctrly1;j=t[l].ctrly2;Y.curveTo(p,k,o,j,s,q);}Y.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,padding:{top:0,left:0,right:0,bottom:0}};}});C.StackedSplineSeries=G;function A(Y){A.superclass.constructor.apply(this,arguments);}A.NAME="stackedAreaSplineSeries";A.ATTRS={type:{value:"stackedAreaSpline"}};C.extend(A,C.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var t=this.get("xcoords"),AE=this.get("ycoords"),r,z=this.get("order"),k=this.get("type"),Y=this.get("graph"),l=Y.seriesTypes[k],j,w,AB,v,u,AD,AC,p,n,AA=0,q,o,m=this.get("styles"),s=this.get("graphic");this._stackCoordinates();q=t[0];o=AE[0];r=this.getCurveControlPoints(t,AE);AB=r.length;s.clear();s.beginFill(m.color,m.alpha);s.moveTo(q,o);for(;AA<AB;AA=++AA){p=r[AA].endx;n=r[AA].endy;v=r[AA].ctrlx1;u=r[AA].ctrlx2;AD=r[AA].ctrly1;AC=r[AA].ctrly2;s.curveTo(v,AD,u,AC,p,n);}if(z>0){j=l[z-1].get("xcoords").concat().reverse();w=l[z-1].get("ycoords").concat().reverse();r=this.getCurveControlPoints(j,w);AA=0;AB=r.length;s.lineTo(j[0],w[0]);for(;AA<AB;AA=++AA){p=r[AA].endx;n=r[AA].endy;v=r[AA].ctrlx1;u=r[AA].ctrlx2;AD=r[AA].ctrly1;AC=r[AA].ctrly2;s.curveTo(v,AD,u,AC,p,n);}}else{if(this.get("direction")==="vertical"){s.lineTo(this._leftOrigin,AE[AE.length-1]);s.lineTo(this._leftOrigin,o);}else{s.lineTo(t[t.length-1],this._bottomOrigin);s.lineTo(q,this._bottomOrigin);}}s.lineTo(q,o);s.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});C.StackedAreaSplineSeries=A;function W(Y){W.superclass.constructor.apply(this,arguments);}W.NAME="stackedMarkerSeries";W.ATTRS={type:{value:"stackedMarker"}};C.extend(W,C.MarkerSeries,{setAreaData:function(){W.superclass.setAreaData.apply(this);this._stackCoordinates.apply(this);}});C.StackedMarkerSeries=W;function D(Y){D.superclass.constructor.apply(this,arguments);
}D.NAME="columnSeries";D.ATTRS={type:{value:"column"}};C.extend(D,C.CartesianSeries,{renderUI:function(){this._setNode();},bindUI:function(){C.delegate("mouseover",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mousedown",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseup",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseout",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},drawSeries:function(){if(this.get("xcoords").length<1){return;}var AD=this._mergeStyles(this.get("styles"),{}),s=AD.width,AB=AD.height,t=this.get("xcoords"),AE=this.get("ycoords"),z=0,AA=t.length,u=AE[0],l=this.get("type"),j=this.get("graph"),r=j.seriesTypes[l],AC=r.length,Y=0,k=0,o=0,q,x,y=this.get("order"),v=C.Node.one(this._parentNode).get("parentNode"),m,p,n;this._createMarkerCache();for(;z<AC;++z){x=r[z];Y+=x.get("styles").width;if(y>z){o=Y;}}k=AA*Y;if(k>v.offsetWidth){q=this.width/k;Y*=q;o*=q;s*=q;s=Math.max(s,1);}o-=Y/2;for(z=0;z<AA;++z){u=AE[z];AB=this._bottomOrigin-u;m=t[z]+o;AD.width=s;AD.height=AB;p=this.getMarker.apply(this,[{index:z,styles:AD}]);n=p.get("boundingBox");n.setStyle("position","absolute");n.setStyle("left",m+"px");n.setStyle("top",u+"px");}this._clearMarkerCache();},_markerEventHandler:function(s){var u=s.type,r=C.Widget.getByNode(s.currentTarget),v=this.get("xcoords"),p=this.get("ycoords"),q=r.get("index")||C.Array.indexOf(this.get("markers"),r),w=this.get("graph"),l=w.seriesTypes[this.get("type")],o=l.length,x=0,m=0,t,Y=0,k=[],j=this.get("order");switch(u){case"mouseout":r.set("state","off");break;case"mouseover":r.set("state","over");break;case"mouseup":r.set("state","over");break;case"mousedown":r.set("state","down");break;}r.set("styles",{over:{height:(this._bottomOrigin-p[q])}});for(;Y<o;++Y){t=l[Y].get("markers")[q];k[Y]=v[q]+x;x+=parseInt(t.get("boundingBox").getStyle("width"),10);if(j>Y){m=x;}m-=x/2;}for(Y=0;Y<o;++Y){t=l[Y].get("markers")[q];t.get("boundingBox").setStyle("left",(k[Y]-x/2)+"px");}},_getDefaultStyles:function(){return{fill:{color:"#000000",alpha:"1",colors:[],alphas:[],ratios:[],rotation:0},width:6,height:6,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};}});C.ColumnSeries=D;function a(Y){a.superclass.constructor.apply(this,arguments);}a.NAME="barSeries";a.ATTRS={type:{value:"bar"},direction:{value:"vertical"}};C.extend(a,C.CartesianSeries,{bindUI:function(){C.delegate("mouseover",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mousedown",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseup",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseout",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},renderUI:function(){this._setNode();},drawSeries:function(){if(this.get("xcoords").length<1){return;}var AC=this._mergeStyles(this.get("styles"),{}),r=AC.width,AA=AC.height,s=this.get("xcoords"),AE=this.get("ycoords"),y=0,z=s.length,t=AE[0],j=this.get("type"),Y=this.get("graph"),p=Y.seriesTypes[j],AB=p.length,q=0,AD=0,m=0,o,v,x=this.get("order"),u=C.Node.one(this._parentNode).get("parentNode"),k,n,l;this._createMarkerCache();for(;y<AB;++y){v=p[y];q+=v.get("styles").height;if(x>y){m=q;}}AD=z*q;if(AD>u.offsetHeight){o=this.height/AD;q*=o;m*=o;AA*=o;AA=Math.max(AA,1);}m-=q/2;for(y=0;y<z;++y){t=AE[y]+m;k=s[y];r=k-this._leftOrigin;AC.width=r;AC.height=AA;n=this.getMarker.apply(this,[{index:y,styles:AC}]);l=n.get("boundingBox");l.setStyle("position","absolute");l.setStyle("left",0+"px");l.setStyle("top",t+"px");}this._clearMarkerCache();},_markerEventHandler:function(s){var u=s.type,r=C.Widget.getByNode(s.currentTarget),v=this.get("xcoords"),p=this.get("ycoords"),q=r.get("index")||C.Array.indexOf(this.get("markers"),r),x=this.get("graph"),l=x.seriesTypes[this.get("type")],o=l.length,Y=0,m=0,t,j=0,w=[],k=this.get("order");switch(u){case"mouseout":r.set("state","off");break;case"mouseover":r.set("state","over");break;case"mouseup":r.set("state","over");break;case"mousedown":r.set("state","down");break;}r.set("styles",{over:{width:(v[q]-this._leftOrigin)}});for(;j<o;++j){t=l[j].get("markers")[q];w[j]=p[q]+Y;Y+=parseInt(t.get("boundingBox").getStyle("height"),10);if(k>j){m=Y;}m-=Y/2;}for(j=0;j<o;++j){t=l[j].get("markers")[q];t.get("boundingBox").setStyle("top",(w[j]-Y/2)+"px");}},drawMarker:function(m,j,l,k,Y,i){m.drawRect(this._leftOrigin,k,Y,i);},_getDefaultStyles:function(){return{fill:{color:"#000000",alpha:"1",colors:[],alphas:[],ratios:[],rotation:0},width:6,height:6,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};}});C.BarSeries=a;function R(Y){R.superclass.constructor.apply(this,arguments);}R.NAME="areaSeries";R.ATTRS={type:{value:"area"},direction:{value:"horizontal"}};C.extend(R,C.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var s=this.get("xcoords"),p=this.get("ycoords"),r=s.length,m=s[0],l=p[0],k=m,j=l,q=k,o=j,v,u,n,t=this.get("styles"),Y=this.get("graphic");Y.clear();Y.beginFill(t.color,t.alpha);Y.moveTo(k,j);for(n=1;n<r;n=++n){v=s[n];u=p[n];if(isNaN(u)){q=v;o=u;continue;}Y.lineTo(v,u);k=q=v;j=o=u;}if(this.get("direction")==="vertical"){Y.lineTo(this._leftOrigin,j);Y.lineTo(this._leftOrigin,l);}else{Y.lineTo(k,this._bottomOrigin);Y.lineTo(m,this._bottomOrigin);}Y.lineTo(m,l);Y.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});C.AreaSeries=R;function f(Y){f.superclass.constructor.apply(this,arguments);}f.NAME="rangeSeries";f.ATTRS={type:{value:"range"}};C.extend(f,C.CartesianSeries,{setAreaData:function(){var AH,AG,z=C.Node.one(this._parentNode).get("parentNode"),t=z.get("offsetWidth"),AC=z.get("offsetHeight"),v=this.get("styles").padding,y=v.left,AF=v.top,q=t-(y+v.right),AB=AC-(AF+v.bottom),x=[],AJ=[],s=this.get("xAxis"),j=this.get("yAxis"),AI=s.get("maximum"),AE=s.get("minimum"),k=j.get("maximum"),Y=j.get("minimum"),l=this.get("xKey"),p=this.get("yKey"),o=q/(AI-AE),u=AB/(k-Y),n=s.getDataByKey(l),AD=j.getDataByKey(p),r=n.length,AA,m;
this.get("graphic").setSize(t,AC);this._leftOrigin=Math.round(((0-AE)*o)+y);this._bottomOrigin=Math.round((AB+AF)-(0-Y)*u);for(AA=0;AA<r;++AA){m=AD[AA];AH=Math.round((((n[AA]-AE)*o)+y));AG={h:Math.round(((AB+AF)-(m.high-Y)*u)),l:Math.round(((AB+AF)-(m.low-Y)*u)),o:Math.round(((AB+AF)-(m.open-Y)*u)),c:Math.round(((AB+AF)-(m.close-Y)*u))};x.push(AH);AJ.push(AG);}this.set("xcoords",x);this.set("ycoords",AJ);},drawSeries:function(){if(this.get("xcoords").length<1){return;}var r=this.get("graphic"),AA=this.get("styles").marker,q=AA.width,s=this.get("xcoords"),AC=this.get("ycoords"),x=0,y=s.length,l=this.get("type"),j=this.get("graph"),p=j.seriesTypes[l],z=p.length,Y=0,k=0,n=0,o,u,v=this.get("order"),t=C.Node.one(this._parentNode).get("parentNode"),m,AB;for(;x<z;++x){u=p[x];Y+=u.get("styles").marker.width;if(v>x){n=Y;}}k=y*Y;if(k>t.offsetWidth){o=this.width/k;Y*=o;n*=o;q*=o;q=Math.max(q,1);}n-=Y/2;for(x=0;x<y;++x){AB=AC[x];m=s[x]+n;this.drawMarker(r,AB,m,AA);}}});C.RangeSeries=f;function Q(Y){Q.superclass.constructor.apply(this,arguments);}Q.NAME="ohlcSeries";Q.ATTRS={type:{value:"ohlc"}};C.extend(Q,C.RangeSeries,{drawMarker:function(q,AB,j,x){var v=AB.h,r=AB.o,t=AB.l,z=AB.c,p=x.width,u,i=x.upColor,m=x.downColor,k,s=x.upAlpha,y=x.downAlpha,n=z<r,Y=x.thickness,AA=j+p*0.5;u=n?i:m;k=n?s:y;q.lineStyle(Y,u,k);q.moveTo(j,r);q.lineTo(AA,r);q.moveTo(AA,v);q.lineTo(AA,t);q.moveTo(AA,z);q.lineTo(j+p,z);q.end();},_getDefaultStyles:function(){return{marker:{upColor:"#aaaaaa",upAlpha:1,thickness:1,borderAlpha:1,downColor:"#000000",downAlpha:1,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});C.OHLCSeries=Q;function X(Y){X.superclass.constructor.apply(this,arguments);}X.NAME="candlestickSeries";X.ATTRS={type:{value:"candlestick"}};C.extend(X,C.RangeSeries,{drawMarker:function(r,AR,p,AK){var AP=AR.h,AL=AR.o,AN=AR.l,AS=AR.c,AM=Math.abs(AS-AL),AH=AK.width,AV,AG=AK.upFillColor,k=AK.downFillColor,AO,AC=AK.upFillAlpha,AU=AK.downFillAlpha,AA=AS<AL,AI=AK.upFillType||"solid",AE=AK.downFillType||"solid",m=AK.borderWidth,AB=AK.borderColor,AT=AK.borderAlpha||1,AJ,AF=AK.upColors,AQ=AK.downColors,y,x=AK.upAlphas||[],AD=AK.downAlphas||[],u,s=AK.upRatios||[],v=AK.downRatios||[],z,n=AK.upRotation||0,j=AK.downRotation||0,t=AA?AI:AE,q=AS<AL?AS:AL,i=AS<AL?AL:AS,Y=p+AH*0.5;if(m>0){r.lineStyle(m,AB,AT);}if(t==="solid"){AV=AA?AG:k;AO=AA?AC:AU;r.beginFill(AV,AO);}else{AJ=AA?AF:AQ;z=AA?n:j;u=AA?s:v;y=AA?x:AD;r.beginGradientFill(t,AJ,y,u,{rotation:z,width:AH,height:AM});}if(q>AP){r.moveTo(Y,AP);r.lineTo(Y,q);}r.drawRect(p,q,AH,AM);if(AN>AS&&AN>AL){r.moveTo(Y,i);r.lineTo(Y,AN);}r.end();},_getDefaultStyles:function(){return{marker:{upFillColor:"#ffffff",upFillAlpha:1,borderColor:"#000000",borderWidth:1,borderAlpha:1,upColors:[],upAlphas:[],upRatios:[],upRotation:0,downFillColor:"#000000",downFillAlpha:1,downBorderColor:"#000000",downBorderWidth:0,downBorderAlpha:1,downColors:[],downAlphas:[],downRatios:[],downRotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});C.CandlestickSeries=X;function L(Y){L.superclass.constructor.apply(this,arguments);}L.NAME="stackedLineSeries";L.ATTRS={type:{value:"stackedLine"}};C.extend(L,C.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var q=this.get("xcoords"),AB=this.get("ycoords"),x=this.get("direction"),t=x==="vertical"?AB.length:q.length,k,j,AA,y,w,u,s=0,m=this.get("styles"),v=m.lineType,z=m.dashLength,o=m.gapSpace,n=m.connectDiscontinuousPoints,Y=m.discontinuousType,l=m.discontinuousDashLength,r=m.discontinuousGapSpace,p=this.get("graphic");this._stackCoordinates();k=AA=q[0];j=y=AB[0];p.clear();p.lineStyle(m.weight,m.color);p.moveTo(k,j);for(s=1;s<t;s=++s){w=q[s];u=AB[s];if(isNaN(u)){AA=w;y=u;continue;}if(AA==k){if(v!="dashed"){p.lineTo(w,u);}else{this.drawDashedLine(AA,y,w,u,z,o);}}else{if(!n){p.moveTo(w,u);}else{if(Y!="solid"){this.drawDashedLine(AA,y,w,u,l,r);}else{p.lineTo(w,u);}}}k=AA=w;j=y=u;}p.end();},drawDashedLine:function(t,x,j,v,l,k){l=l||10;k=k||10;var n=l+k,q=j-t,u=v-x,w=Math.sqrt(Math.pow(q,2)+Math.pow(u,2)),o=Math.floor(Math.abs(w/n)),m=Math.atan2(u,q),s=t,r=x,p,Y=this.get("graphic");q=Math.cos(m)*n;u=Math.sin(m)*n;for(p=0;p<o;++p){Y.moveTo(s,r);Y.lineTo(s+Math.cos(m)*l,r+Math.sin(m)*l);s+=q;r+=u;}Y.moveTo(s,r);w=Math.sqrt((j-s)*(j-s)+(v-r)*(v-r));if(w>l){Y.lineTo(s+Math.cos(m)*l,r+Math.sin(m)*l);}else{if(w>0){Y.lineTo(s+Math.cos(m)*w,r+Math.sin(m)*w);}}Y.moveTo(j,v);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});C.StackedLineSeries=L;function h(Y){h.superclass.constructor.apply(this,arguments);}h.NAME="stackedSeries";h.ATTRS={type:{value:"stackedArea"}};C.extend(h,C.CartesianSeries,{drawSeries:function(){if(this.get("xcoords").length<1){return;}var r=this.get("xcoords"),o=this.get("ycoords"),s,l,q=r.length,k=r[0],j=o[0],p=k,n=j,v,u,m=0,t=this.get("styles"),Y=this.get("graphic");this._stackCoordinates();s=this._getAllStackedCoordinates("xcoords");l=this._getAllStackedCoordinates("ycoords");k=s[0];j=l[0];q=s.length;Y.clear();Y.beginFill(t.color,t.alpha);Y.moveTo(k,j);for(m=1;m<q;m=++m){v=s[m];u=l[m];if(isNaN(u)){p=v;n=u;continue;}Y.lineTo(v,u);p=v;n=u;}Y.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});C.StackedAreaSeries=h;function U(Y){U.superclass.constructor.apply(this,arguments);}U.NAME="stackedColumnSeries";U.ATTRS={type:{value:"stackedColumn"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}};C.extend(U,C.CartesianSeries,{renderUI:function(){this._setNode();},bindUI:function(){C.delegate("mouseover",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mousedown",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");
C.delegate("mouseup",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseout",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},drawSeries:function(){if(this.get("xcoords").length<1){return;}var AD=this._mergeStyles(this.get("styles"),{}),t=AD.width,AC=AD.height,u=this.get("xcoords"),AE=this.get("ycoords"),AA=0,AB=u.length,v=AE[0],l=this.get("type"),Y=this.get("graph"),r=Y.seriesTypes[l],q,z=this.get("order"),o,s,x,j=z===0,y=C.Node.one(this._parentNode).get("parentNode"),m,p,n,k=AB*t;this._createMarkerCache();if(k>y.offsetWidth){q=this.width/k;t*=q;t=Math.max(t,1);}if(!j){o=r[z-1];s=o.get("negativeBaseValues");x=o.get("positiveBaseValues");}else{s=[];x=[];}this.set("negativeBaseValues",s);this.set("positiveBaseValues",x);for(AA=0;AA<AB;++AA){v=AE[AA];if(j){AC=this._bottomOrigin-v;if(v<this._bottomOrigin){x[AA]=v;s[AA]=this._bottomOrigin;}else{if(v>this._bottomOrigin){x[AA]=this._bottomOrigin;s[AA]=v;}else{x[AA]=v;s[AA]=v;}}}else{if(v>this._bottomOrigin){v+=(s[AA]-this._bottomOrigin);AC=s[AA]-v;s[AA]=v;}else{if(v<this._bottomOrigin){v=x[AA]-(this._bottomOrigin-AE[AA]);AC=x[AA]-v;x[AA]=v;}}}m=u[AA]-t/2;AD.width=t;AD.height=AC;p=this.getMarker.apply(this,[{index:AA,styles:AD}]);n=p.get("boundingBox");n.setStyle("position","absolute");n.setStyle("left",m+"px");n.setStyle("top",v+"px");}this._clearMarkerCache();},_markerEventHandler:function(m){var l=m.type,Y=C.Widget.getByNode(m.currentTarget),k=this.get("xcoords"),n,j=Y.get("index")||C.Array.indexOf(this.get("markers"),Y);switch(l){case"mouseout":Y.set("state","off");break;case"mouseover":Y.set("state","over");break;case"mouseup":Y.set("state","over");break;case"mousedown":Y.set("state","down");break;}n=Y.get("width")*0.5;Y.get("boundingBox").setStyle("left",(k[j]-n)+"px");},_getDefaultStyles:function(){return{fill:{color:"#000000",alpha:"1",colors:[],alphas:[],ratios:[],rotation:0},border:{weight:0},width:6,height:6,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};}});C.StackedColumnSeries=U;function I(Y){I.superclass.constructor.apply(this,arguments);}I.NAME="stackedBarSeries";I.ATTRS={type:{value:"stackedBar"},direction:{value:"vertical"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}};C.extend(I,C.CartesianSeries,{renderUI:function(){this._setNode();},bindUI:function(){C.delegate("mouseover",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mousedown",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseup",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");C.delegate("mouseout",C.bind(this._markerEventHandler,this),this.get("node"),".yui3-seriesmarker");},drawSeries:function(){if(this.get("xcoords").length<1){return;}var AC=this._mergeStyles(this.get("styles"),{}),s=AC.width,AB=AC.height,t=this.get("xcoords"),AE=this.get("ycoords"),z=0,AA=t.length,u=AE[0],k=this.get("type"),j=this.get("graph"),q=j.seriesTypes[k],AD=0,p,y=this.get("order"),n,r,v,Y=y===0,x=C.Node.one(this._parentNode).get("parentNode"),l,o,m;AD=AA*AB;this._createMarkerCache();if(AD>x.offsetHeight){p=this.height/AD;AB*=p;AB=Math.max(AB,1);}if(!Y){n=q[y-1];r=n.get("negativeBaseValues");v=n.get("positiveBaseValues");}else{r=[];v=[];}this.set("negativeBaseValues",r);this.set("positiveBaseValues",v);for(z=0;z<AA;++z){u=AE[z];l=t[z];if(Y){s=l-this._leftOrigin;if(l>this._leftOrigin){v[z]=l;r[z]=this._leftOrigin;}else{if(l<this._leftOrigin){v[z]=this._leftOrigin;r[z]=l;}else{v[z]=l;r[z]=this._leftOrigin;}}l-=s;}else{if(l<this._leftOrigin){l=r[z]-(this._leftOrigin-t[z]);s=r[z]-l;r[z]=l;}else{if(l>this._leftOrigin){l+=(v[z]-this._leftOrigin);s=l-v[z];v[z]=l;l-=s;}}}u-=AB/2;AC.width=s;AC.height=AB;o=this.getMarker.apply(this,[{index:z,styles:AC}]);m=o.get("boundingBox");m.setStyle("position","absolute");m.setStyle("left",l+"px");m.setStyle("top",u+"px");}this._clearMarkerCache();},_markerEventHandler:function(n){var l=n.type,Y=C.Widget.getByNode(n.currentTarget),m=this.get("ycoords"),j=Y.get("index")||C.Array.indexOf(this.get("markers"),Y),k=Y.get("height");switch(l){case"mouseout":Y.set("state","off");break;case"mouseover":Y.set("state","over");break;case"mouseup":Y.set("state","over");break;case"mousedown":Y.set("state","down");break;}Y.get("boundingBox").setStyle("top",(m[j]-k/2)+"px");},_getDefaultStyles:function(){return{fill:{color:"#000000",alpha:"1",colors:[],alphas:[],ratios:[],rotation:0},width:6,height:6,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};}});C.StackedBarSeries=I;function M(Y){M.superclass.constructor.apply(this,arguments);}M.NAME="graph";M.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(Y){this._parseSeriesCollection(Y);return this._seriesCollection;}},parent:{value:null}};C.extend(M,C.Base,{_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(l){var Y=l.length,k=0,j;if(!l){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;k<Y;++k){j=l[k];if(!(j instanceof C.CartesianSeries)&&!(j instanceof C.PieSeries)){this._createSeries(j);continue;}this._addSeries(j);}Y=this._seriesCollection.length;for(k=0;k<Y;++k){this._seriesCollection[k].render(this.get("parent"));}},_addSeries:function(j){var k=j.get("type"),m=this._seriesCollection,l=m.length,i=this.seriesTypes,Y;if(!j.get("graph")){j.set("graph",this);}j.graphOrder=l;m.push(j);if(!i.hasOwnProperty(k)){this.seriesTypes[k]=[];}Y=this.seriesTypes[k];j.set("order",Y.length);Y.push(j);this.fire("seriesAdded",j);},_createSeries:function(l){var m=l.type,n=this._seriesCollection,j=this.seriesTypes,i,Y,k;l.graph=this;if(!j.hasOwnProperty(m)){j[m]=[];}i=j[m];l.graph=this;l.order=i.length;Y=this._getSeries(l.type);k=new Y(l);i.push(k);n.push(k);},_getSeries:function(Y){var i;switch(Y){case"line":i=C.LineSeries;break;case"column":i=C.ColumnSeries;break;case"bar":i=C.BarSeries;break;case"area":i=C.AreaSeries;
break;case"candlestick":i=C.CandlestickSeries;break;case"ohlc":i=C.OHLCSeries;break;case"stackedarea":i=C.StackedAreaSeries;break;case"stackedline":i=C.StackedLineSeries;break;case"stackedcolumn":i=C.StackedColumnSeries;break;case"stackedbar":i=C.StackedBarSeries;break;case"markerseries":i=C.MarkerSeries;break;case"spline":i=C.SplineSeries;break;case"areaspline":i=C.AreaSplineSeries;break;case"stackedspline":i=C.StackedSplineSeries;break;case"stackedareaspline":i=C.StackedAreaSplineSeries;break;case"stackedmarkerseries":i=C.StackedMarkerSeries;break;case"pieseries":i=C.PieSeries;break;default:i=C.CartesianSeries;break;}return i;}});C.Graph=M;function c(Y){c.superclass.constructor.apply(this,arguments);}c.NAME="axisRenderer";c.ATTRS={graphic:{value:null},axis:{value:null,validator:function(Y){return Y!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(Y){return((Y!==this.get("position"))&&(Y==="bottom"||Y==="top"||Y==="left"||Y==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(Y){return C.Lang.isBoolean(Y);}}};C.extend(c,C.Renderer,{axisChangeHandler:function(j){var Y=j.newVal,i=j.prevVal;if(i){i.detach("axisReady",this._axisDataChangeHandler);i.detach("axisUpdate",this._axisDataChangeHandler);}Y.after("axisReady",C.bind(this._axisDataChangeHandler,this));Y.after("axisUpdate",C.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(Y){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(Y){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(Y){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var Y=this.get("axis");if(Y){Y.after("axisReady",C.bind(this._axisDataChangeHandler,this));Y.after("axisUpdate",C.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);},syncUI:function(){this._drawAxis();},_setCanvas:function(){var Y=this.get("contentBox"),k=this.get("position"),l=document.createElement("div"),j=l.style,i=this._parentNode;Y.appendChild(l);j.position="absolute";j.display="block";j.top="0px";j.left="0px";j.border="1px";if(k==="top"||k==="bottom"){Y.setStyle("width",i.getStyle("width"));}else{Y.setStyle("height",i.getStyle("height"));}j.width=Y.getStyle("width");j.height=Y.getStyle("height");this.set("node",l);this.set("graphic",new C.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",hideOverlappingLabelTicks:false};}});C.AxisRenderer=c;function O(Y){O.superclass.constructor.apply(this,arguments);}O.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};C.extend(O,C.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),l=Y.get("styles").majorTicks,j=l.length,i=j*0.5,k=l.display;Y.set("topTickOffset",0);Y.set("bottomTickOffset",0);switch(k){case"inside":Y.set("rightTickOffset",j);break;case"outside":Y.set("leftTickOffset",j);break;case"cross":Y.set("rightTickOffset",i);Y.set("leftTickOffset",i);break;}},getLineStart:function(){var Y=this.get("axisRenderer"),i=Y.get("styles"),m=i.padding,n=i.majorTicks,j=n.length,l=n.display,k={x:m.left,y:0};if(l==="outside"){k.x+=j;}else{if(l==="cross"){k.x+=j/2;}}return k;},drawTick:function(n,l){var i=this.get("axisRenderer"),j=i.get("styles"),m=j.padding,k=l.length,o={x:m.left,y:n.y},Y={x:k+m.left,y:n.y};i.drawLine(o,Y,l);},getLabelPoint:function(Y){var i=this.get("axisRenderer");return{x:Y.x-i.get("leftTickOffset"),y:Y.y};},positionLabel:function(v,x){var o=this.get("axisRenderer"),i=o.get("styles").label,l=x.x,r=x.y,m=Math.min(90,Math.max(-90,i.rotation)),p=Math.abs(m),t=Math.PI/180,w=parseFloat(parseFloat(Math.sin(p*t)).toFixed(8)),k=parseFloat(parseFloat(Math.cos(p*t)).toFixed(8)),s=k,q=m>0?-w:w,n=-q,j=s,u=0,Y=this.get("maxLabelSize");if(C.UA.ie){v.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(m===0){l-=v.offsetWidth;r-=v.offsetHeight*0.5;}else{if(p===90){l-=v.offsetHeight;r-=v.offsetWidth*0.5;}else{if(m===-90){l-=v.offsetHeight;r-=v.offsetWidth*0.5;}else{if(m>0){l-=(k*v.offsetWidth)+(v.offsetHeight*m/90);r-=(w*v.offsetWidth)+(k*(v.offsetHeight*0.5));}else{l-=(k*v.offsetWidth)+(p/90*v.offsetHeight);r-=k*(v.offsetHeight*0.5);}}}}v.style.left=l+"px";v.style.top=r+"px";v.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+s+" M12="+q+" M21="+n+" M22="+j+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(Y,v.offsetWidth));return;}if(m===0){u=v.offsetWidth;l-=u;r-=v.offsetHeight*0.5;}else{if(m===90){u=v.offsetHeight;r-=v.offsetWidth*0.5;}else{if(m===-90){u=v.offsetHeight;l-=u;r+=v.offsetWidth*0.5;}else{u=(k*v.offsetWidth)+(w*v.offsetHeight);if(m<0){l-=u;r+=(w*v.offsetWidth)-(k*(v.offsetHeight*0.6));}else{l-=(k*v.offsetWidth);r-=(w*v.offsetWidth)+(k*(v.offsetHeight*0.6));}}}}v.style.left=l+"px";v.style.top=r+"px";v.style.MozTransformOrigin="0 0";v.style.MozTransform="rotate("+m+"deg)";v.style.webkitTransformOrigin="0 0";v.style.webkitTransform="rotate("+m+"deg)";this.set("maxLabelSize",Math.max(u,Y));},setSizeAndPosition:function(){var Y=this.get("maxLabelSize"),i=this.get("axisRenderer"),j=i.get("styles"),l=j.line.weight,m=j.majorTicks,k=m.display,n=m.length;if(k==="outside"){l+=n;}else{if(k==="cross"){l+=n*0.5;}}l+=Y;i.get("node").style.left=Y+"px";i.set("width",l);},offsetNodeForTick:function(j){var Y=this.get("axisRenderer"),l=Y.get("styles").majorTicks,i=l.length,k=l.display;
if(k==="inside"){j.style.marginRight=(0-i)+"px";}else{if(k==="cross"){j.style.marginRight=(0-(i*0.5))+"px";}}}});C.LeftAxisLayout=O;function S(Y){S.superclass.constructor.apply(this,arguments);}S.ATTRS={axisRenderer:{value:null}};C.extend(S,C.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),l=Y.get("styles").majorTicks,j=l.length,i=j*0.5,k=l.display;Y.set("topTickOffset",0);Y.set("bottomTickOffset",0);switch(k){case"inside":Y.set("leftTickOffset",j);break;case"outside":Y.set("rightTickOffset",j);break;case"cross":Y.set("rightTickOffset",i);Y.set("leftTickOffset",i);break;}},drawTick:function(n,l){var i=this.get("axisRenderer"),j=i.get("styles"),m=j.padding,k=l.length,o={x:m.left,y:n.y},Y={x:m.left+k,y:n.y};i.drawLine(o,Y,l);},getLineStart:function(){var Y=this.get("axisRenderer"),i=Y.get("styles"),m=i.padding,n=i.majorTicks,j=n.length,l=n.display,k={x:m.left,y:m.top};if(l==="inside"){k.x+=j;}else{if(l==="cross"){k.x+=j/2;}}return k;},getLabelPoint:function(Y){var i=this.get("axisRenderer");return{x:Y.x+i.get("rightTickOffset"),y:Y.y};},positionLabel:function(t,v){var n=this.get("axisRenderer"),Y=n.get("styles").label,k=v.x,q=v.y,l=Math.min(Math.max(Y.rotation,-90),90),o=Math.abs(l),s=Math.PI/180,u=parseFloat(parseFloat(Math.sin(o*s)).toFixed(8)),j=parseFloat(parseFloat(Math.cos(o*s)).toFixed(8)),r=j,p=l>0?-u:u,m=-p,i=r;if(C.UA.ie){t.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(l===0){q-=t.offsetHeight*0.5;}else{if(o===90){q-=t.offsetWidth*0.5;}else{if(l>0){q-=(j*(t.offsetHeight*0.5));}else{q-=(u*t.offsetWidth)+(j*(t.offsetHeight*0.5));}}}t.style.left=k+"px";t.style.top=q+"px";t.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+r+" M12="+p+" M21="+m+" M22="+i+' sizingMethod="auto expand")';return;}if(l===0){q-=t.offsetHeight*0.5;}else{if(l===90){k+=t.offsetHeight;q-=t.offsetWidth*0.5;}else{if(l===-90){q+=t.offsetWidth*0.5;}else{if(l<0){q-=(j*(t.offsetHeight*0.6));}else{q-=j*(t.offsetHeight*0.6);k+=u*t.offsetHeight;}}}}t.style.left=k+"px";t.style.top=q+"px";t.style.MozTransformOrigin="0 0";t.style.MozTransform="rotate("+l+"deg)";t.style.webkitTransformOrigin="0 0";t.style.webkitTransform="rotate("+l+"deg)";},setSizeAndPosition:function(Y){var i=this.get("axisRenderer"),j=i.get("styles"),l=j.line.weight,m=j.majorTicks,k=m.display,n=m.length;if(k==="outside"){l+=n;}else{if(k==="cross"){l+=n*0.5;}}l+=Y;i.set("width",l);},offsetNodeForTick:function(j){var Y=this.get("axisRenderer"),l=Y.get("styles").majorTicks,i=l.length,k=l.display;if(k==="inside"){j.style.marginLeft=(0-i)+"px";}else{if(k==="cross"){j.style.marginLeft=(0-(i*0.5))+"px";}}}});C.RightAxisLayout=S;function e(Y){e.superclass.constructor.apply(this,arguments);}e.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};C.extend(e,C.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),l=Y.get("styles").majorTicks,j=l.length,i=j*0.5,k=l.display;Y.set("leftTickOffset",0);Y.set("rightTickOffset",0);switch(k){case"inside":Y.set("topTickOffset",j);break;case"outside":Y.set("bottomTickOffset",j);break;case"cross":Y.set("topTickOffset",i);Y.set("bottomTickOffset",i);break;}},setSizeAndPosition:function(){var Y=this.get("maxLabelSize"),i=this.get("axisRenderer"),j=i.get("styles"),l=j.line.weight,m=j.majorTicks,k=m.display,n=m.length;if(k==="outside"){l+=n;}else{if(k==="cross"){l+=n*0.5;}}l+=Y;i.set("height",l);},getLineStart:function(){var Y=this.get("axisRenderer"),i=Y.get("styles"),m=i.padding,n=i.majorTicks,j=n.length,l=n.display,k={x:0,y:m.top};if(l==="inside"){k.y+=j;}else{if(l==="cross"){k.y+=j/2;}}return k;},drawTick:function(n,l){var i=this.get("axisRenderer"),j=i.get("styles"),m=j.padding,k=l.length,o={x:n.x,y:m.top},Y={x:n.x,y:k+m.top};i.drawLine(o,Y,l);},getLabelPoint:function(Y){var i=this.get("axisRenderer");return{x:Y.x,y:Y.y+i.get("bottomTickOffset")};},positionLabel:function(v,x){var o=this.get("axisRenderer"),i=o.get("styles").label,l=x.x,r=x.y,m=Math.min(90,Math.max(-90,i.rotation)),p=Math.abs(m),t=Math.PI/180,w=parseFloat(parseFloat(Math.sin(p*t)).toFixed(8)),k=parseFloat(parseFloat(Math.cos(p*t)).toFixed(8)),s=k,q=m>0?-w:w,n=-q,j=s,u=0,Y=this.get("maxLabelSize");if(C.UA.ie){s=k;q=m>0?-w:w;n=-q;j=s;v.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(p===90){l-=v.offsetHeight*0.5;}else{if(m<0){l-=k*v.offsetWidth;l-=w*(v.offsetHeight*0.5);}else{if(m>0){l-=w*(v.offsetHeight*0.5);}else{l-=v.offsetWidth*0.5;}}}v.style.left=l+"px";v.style.top=r+"px";v.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+s+" M12="+q+" M21="+n+" M22="+j+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(v.offsetHeight,Y));return;}if(m===0){l-=v.offsetWidth*0.5;u=v.offsetHeight;}else{if(p===90){u=v.offsetWidth;if(m===90){l+=v.offsetHeight*0.5;}else{r+=u;l-=v.offsetHeight*0.5;}}else{u=(w*v.offsetWidth)+(k*v.offsetHeight);if(m<0){l-=(k*v.offsetWidth)+(w*(v.offsetHeight*0.6));r+=w*v.offsetWidth;}else{l+=w*(v.offsetHeight*0.6);}}}v.style.left=l+"px";v.style.top=r+"px";v.style.MozTransformOrigin="0 0";v.style.MozTransform="rotate("+m+"deg)";v.style.webkitTransformOrigin="0 0";v.style.webkitTransform="rotate("+m+"deg)";this.set("maxLabelSize",Math.max(u,Y));},offsetNodeForTick:function(j){var Y=this.get("axisRenderer"),l=Y.get("styles").majorTicks,i=l.length,k=l.display;if(k==="inside"){j.style.marginTop=(0-i)+"px";}else{if(k==="cross"){j.style.marginTop=(0-(i*0.5))+"px";}}}});C.BottomAxisLayout=e;function B(Y){B.superclass.constructor.apply(this,arguments);}B.ATTRS={axisRenderer:{value:null}};C.extend(B,C.Base,{setTickOffsets:function(){var Y=this.get("axisRenderer"),l=Y.get("styles").majorTicks,j=l.length,i=j*0.5,k=l.display;Y.set("leftTickOffset",0);Y.set("rightTickOffset",0);switch(k){case"inside":Y.set("bottomTickOffset",j);break;case"outside":Y.set("topTickOffset",j);break;case"cross":Y.set("topTickOffset",i);Y.set("bottomTickOffset",i);break;}},getLineStart:function(){var Y=this.get("axisRenderer"),i=Y.get("styles"),m=i.padding,n=i.majorTicks,j=n.length,l=n.display,k={x:0,y:m.top};
if(l==="outside"){k.y+=j;}else{if(l==="cross"){k.y+=j/2;}}return k;},drawTick:function(n,l){var i=this.get("axisRenderer"),j=i.get("styles"),m=j.padding,k=l.length,o={x:n.x,y:m.top},Y={x:n.x,y:k+m.top};i.drawLine(o,Y,l);},getLabelPoint:function(i){var Y=this.get("axisRenderer");return{x:i.x,y:i.y-Y.get("topTickOffset")};},positionLabel:function(t,v){var n=this.get("axisRenderer"),Y=n.get("styles").label,k=v.x,q=v.y,l=Math.max(-90,Math.min(90,Y.rotation)),o=Math.abs(l),s=Math.PI/180,u=parseFloat(parseFloat(Math.sin(o*s)).toFixed(8)),j=parseFloat(parseFloat(Math.cos(o*s)).toFixed(8)),r,p,m,i;l=Math.min(90,l);l=Math.max(-90,l);if(C.UA.ie){t.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";r=j;p=l>0?-u:u;m=-p;i=r;if(l===0){k-=t.offsetWidth*0.5;q-=t.offsetHeight;}else{if(o===90){k-=t.offsetHeight*0.5;q-=t.offsetWidth;}else{if(l>0){k-=(j*t.offsetWidth)+Math.min((u*t.offsetHeight),(l/180*t.offsetHeight));q-=(u*t.offsetWidth)+(j*(t.offsetHeight));}else{k-=u*(t.offsetHeight*0.5);q-=(u*t.offsetWidth)+(j*(t.offsetHeight));}}}t.style.left=k;t.style.top=q;t.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+r+" M12="+p+" M21="+m+" M22="+i+' sizingMethod="auto expand")';return;}if(l===0){k-=t.offsetWidth*0.5;q-=t.offsetHeight;}else{if(l===90){k+=t.offsetHeight*0.5;q-=t.offsetWidth;}else{if(l===-90){k-=t.offsetHeight*0.5;q-=0;}else{if(l<0){k-=(u*(t.offsetHeight*0.6));q-=(j*t.offsetHeight);}else{k-=(j*t.offsetWidth)-(u*(t.offsetHeight*0.6));q-=(u*t.offsetWidth)+(j*t.offsetHeight);}}}}t.style.left=k+"px";t.style.top=q+"px";t.style.MozTransformOrigin="0 0";t.style.MozTransform="rotate("+l+"deg)";t.style.webkitTransformOrigin="0 0";t.style.webkitTransform="rotate("+l+"deg)";},setSizeAndPosition:function(Y){var i=this.get("axisRenderer"),j=i.get("styles"),l=j.line.weight,m=j.majorTicks,k=m.display,n=m.length;if(k==="outside"){l+=n;}else{if(k==="cross"){l+=n*0.5;}}l+=Y;i.get("node").style.top=Y+"px";i.set("height",l);},offsetNodeForTick:function(j){var Y=this.get("axisRenderer"),l=Y.get("styles").majorTicks,i=l.length,k=l.display;if(k==="inside"){j.style.marginBottom=(0-i)+"px";}else{if(k==="cross"){j.style.marginBottom=(0-(i*0.5))+"px";}}}});C.TopAxisLayout=B;C.mix(C.AxisRenderer.prototype,{_ui:null,getLayout:function(i){var Y;switch(i){case"top":Y=new C.TopAxisLayout({axisRenderer:this});break;case"bottom":Y=new C.BottomAxisLayout({axisRenderer:this});break;case"left":Y=new C.LeftAxisLayout({axisRenderer:this});break;case"right":Y=new C.RightAxisLayout({axisRenderer:this});break;}return Y;},drawLine:function(j,i,Y){var k=this.get("graphic");k.lineStyle(Y.weight,Y.color,Y.alpha);k.moveTo(j.x,j.y);k.lineTo(i.x,i.y);k.end();},_drawAxis:function(){var j=this.get("styles"),s=j.majorTicks,t=s.display!="none",m,r=j.majorUnit,k=this.get("axis"),q,v,n=0,l,o,p,w,u=this._ui,Y=this.get("graphic");Y.clear();u.setTickOffsets();l=this.getLength();p=u.getLineStart();m=this.getFirstPoint(p);this.drawLine(p,this.getLineEnd(m),this.get("styles").line);if(t){u.drawTick(m,s);}q=k.getTotalMajorUnits(r,l);if(q<1){return;}v=l/(q-1);this._createLabelCache();u.set("maxLabelSize",0);for(;n<q;++n){if(t){u.drawTick(m,s);}o=this.getPosition(m);w=this.getLabel(m,k.getLabelAtPosition(o,l));u.positionLabel(w,u.getLabelPoint(m));m=this.getNextPoint(m,v);}u.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){u.offsetNodeForTick(this.get("node"));}},_labels:null,_labelCache:null,getLabel:function(k,Y,l){var j,i=this._labelCache;if(i.length>0){j=i.shift();}else{j=document.createElement("span");}j.innerHTML=Y;j.style.display="block";j.style.position="absolute";this.get("node").appendChild(j);this._labels.push(j);return j;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var Y=this._labelCache.length,k=0,j,l;for(;k<Y;++k){j=l[k];j.parentNode.removeChild(j);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(j){var Y=this.get("node").offsetWidth,i=this.get("node").offsetHeight,k=this.get("position");if(k==="top"||k==="bottom"){return{x:Y,y:j.y};}else{return{x:j.x,y:i};}},getLength:function(){var i,k=this.get("styles"),m=k.padding,Y=this.get("node").offsetWidth,j=this.get("node").offsetHeight,n=this.get("position");if(n==="top"||n==="bottom"){i=Y-(m.left+m.right);}else{i=j-(m.top+m.bottom);}return i;},getFirstPoint:function(k){var Y=this.get("styles"),l=this.get("position"),j=Y.padding,i={x:k.x,y:k.y};if(l==="top"||l==="bottom"){i.x+=j.left;}else{i.y+=j.top;}return i;},getNextPoint:function(Y,i){var j=this.get("position");if(j==="top"||j==="bottom"){Y.x=Y.x+i;}else{Y.y=Y.y+i;}return Y;},getLastPoint:function(){var i=this.get("styles"),j=i.padding,Y=this.get("node").offsetWidth,k=this.get("position");if(k==="top"||k==="bottom"){return{x:Y-j.right,y:j.top};}else{return{x:j.left,y:j.top};}},getPosition:function(Y){var m,k=this.get("node").offsetHeight,j=this.get("styles"),l=j.padding,n=this.get("position"),i=this.get("axis").get("dataType");if(n==="left"||n==="right"){if(i==="numeric"){m=(k-(l.top+l.bottom))-(Y.y-l.top);}else{m=Y.y-l.top;}}else{m=Y.x-l.left;}return m;}});},"@VERSION@");