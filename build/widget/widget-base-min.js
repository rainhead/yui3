YUI.add("widget-base",function(B){var G=B.Lang,S=B.Node,E=B.ClassNameManager,X=E.getClassName,n,T=B.cached(function(L){return L.substring(0,1).toUpperCase()+L.substring(1);}),h="content",q="visible",m="hidden",a="disabled",d="focused",D="width",c="height",o="boundingBox",W="contentBox",K="parentNode",N="ownerDocument",Z="auto",J="srcNode",k="body",j="tabIndex",R="id",I="render",l="rendered",O="destroyed",A="strings",P="<div></div>",b="Change",Q="loading",g="_uiSet",f="",i=function(){},V=true,p=false,U,M={},F=[q,a,c,D,d],e=B.UA.webkit,H={};function C(Y){var t=this,L,s,r=t.constructor;t._strs={};t._cssPrefix=r.CSS_PREFIX||X(r.NAME.toLowerCase());C.superclass.constructor.apply(t,arguments);s=t.get(I);if(s){if(s!==V){L=s;}t.render(L);}}C.NAME="widget";U=C.UI_SRC="ui";C.ATTRS=M;M[R]={valueFn:"_guid",writeOnce:V};M[l]={value:p,readOnly:V};M[o]={value:null,setter:"_setBB",writeOnce:V};M[W]={valueFn:"_defaultCB",setter:"_setCB",writeOnce:V};M[j]={value:null,validator:"_validTabIndex"};M[d]={value:p,readOnly:V};M[a]={value:p};M[q]={value:V};M[c]={value:f};M[D]={value:f};M[A]={value:{},setter:"_strSetter",getter:"_strGetter"};M[I]={value:p,writeOnce:V};C.CSS_PREFIX=X(C.NAME.toLowerCase());C.getClassName=function(){return X.apply(E,[C.CSS_PREFIX].concat(B.Array(arguments),true));};n=C.getClassName;C.getByNode=function(L){var r,Y=n();L=S.one(L);if(L){L=L.ancestor("."+Y,true);if(L){r=H[B.stamp(L,V)];}}return r||null;};B.extend(C,B.Base,{getClassName:function(){return X.apply(E,[this._cssPrefix].concat(B.Array(arguments),true));},initializer:function(L){H[B.stamp(this.get(o))]=this;if(this._applyParser){this._applyParser(L);}},destructor:function(){var L=this.get(o),Y=B.stamp(L,V);if(Y in H){delete H[Y];}if(this.UI_EVENTS){this._destroyUIEvents();}this._unbindUI(L);L.remove(V);},render:function(L){if(!this.get(O)&&!this.get(l)){this.publish(I,{queuable:p,fireOnce:V,defaultTargetOnly:V,defaultFn:this._defRenderFn});this.fire(I,{parentNode:(L)?S.one(L):null});}return this;},_defRenderFn:function(L){this._parentNode=L.parentNode;this.renderer();this._set(l,V);this._removeLoadingClassNames();},renderer:function(){var L=this;L._renderUI();L.renderUI();L._bindUI();L.bindUI();L._syncUI();L.syncUI();},bindUI:i,renderUI:i,syncUI:i,hide:function(){return this.set(q,p);},show:function(){return this.set(q,V);},focus:function(){return this._set(d,V);},blur:function(){return this._set(d,p);},enable:function(){return this.set(a,p);},disable:function(){return this.set(a,V);},_uiSizeCB:function(L){this.get(W).toggleClass(n(h,"expanded"),L);},_renderBox:function(L){var t=this,Y=t.get(W),r=t.get(o),v=t.get(J),s=t.DEF_PARENT_NODE,u=(v&&v.get(N))||r.get(N)||Y.get(N);if(v&&!v.compareTo(Y)&&!Y.inDoc(u)){v.replace(Y);}if(!r.compareTo(Y.get(K))&&!r.compareTo(Y)){if(Y.inDoc(u)){Y.replace(r);}r.appendChild(Y);}L=L||(s&&S.one(s));if(L){L.appendChild(r);}else{if(!r.inDoc(u)){S.one(k).insert(r,0);}}},_setBB:function(L){return this._setBox(this.get(R),L,this.BOUNDING_TEMPLATE);},_setCB:function(L){return(this.CONTENT_TEMPLATE===null)?this.get(o):this._setBox(null,L,this.CONTENT_TEMPLATE);},_defaultCB:function(L){return this.get(J)||null;},_setBox:function(r,Y,L){Y=S.one(Y)||S.create(L);if(!Y.get(R)){Y.set(R,r||B.guid());}return Y;},_renderUI:function(){this._renderBoxClassNames();this._renderBox(this._parentNode);},_renderBoxClassNames:function(){var s=this._getClasses(),L,Y=this.get(o),r;Y.addClass(n());for(r=s.length-3;r>=0;r--){L=s[r];Y.addClass(L.CSS_PREFIX||X(L.NAME.toLowerCase()));}this.get(W).addClass(this.getClassName(h));},_removeLoadingClassNames:function(){var r=this.get(o),L=this.get(W),Y=this.getClassName(Q),s=n(Q);r.removeClass(s).removeClass(Y);L.removeClass(s).removeClass(Y);},_bindUI:function(){this._bindAttrUI(this._UI_ATTRS.BIND);this._bindDOM();},_unbindUI:function(L){this._unbindDOM(L);},_bindDOM:function(){var L=this.get(o).get(N);this._hDocFocus=L.on("focus",this._onDocFocus,this);if(e){this._hDocMouseDown=L.on("mousedown",this._onDocMouseDown,this);}},_unbindDOM:function(L){if(this._hDocFocus){this._hDocFocus.detach();}if(e&&this._hDocMouseDown){this._hDocMouseDown.detach();}},_syncUI:function(){this._syncAttrUI(this._UI_ATTRS.SYNC);},_uiSetHeight:function(L){this._uiSetDim(c,L);this._uiSizeCB((L!==f&&L!==Z));},_uiSetWidth:function(L){this._uiSetDim(D,L);},_uiSetDim:function(L,Y){this.get(o).setStyle(L,G.isNumber(Y)?Y+this.DEF_UNIT:Y);},_uiSetVisible:function(L){this.get(o).toggleClass(this.getClassName(m),!L);},_uiSetDisabled:function(L){this.get(o).toggleClass(this.getClassName(a),L);},_uiSetFocused:function(r,Y){var L=this.get(o);L.toggleClass(this.getClassName(d),r);if(Y!==U){if(r){L.focus();}else{L.blur();}}},_uiSetTabIndex:function(Y){var L=this.get(o);if(G.isNumber(Y)){L.set(j,Y);}else{L.removeAttribute(j);}},_onDocMouseDown:function(L){if(this._domFocus){this._onDocFocus(L);}},_onDocFocus:function(L){this._domFocus=this.get(o).contains(L.target);this._set(d,this._domFocus,{src:U});},toString:function(){return this.name+"["+this.get(R)+"]";},DEF_UNIT:"px",DEF_PARENT_NODE:null,CONTENT_TEMPLATE:P,BOUNDING_TEMPLATE:P,_guid:function(){return B.guid();},_validTabIndex:function(L){return(G.isNumber(L)||G.isNull(L));},_bindAttrUI:function(Y){var r,L=Y.length;for(r=0;r<L;r++){this.after(Y[r]+b,this._setAttrUI);}},_syncAttrUI:function(r){var s,Y=r.length,L;for(s=0;s<Y;s++){L=r[s];this[g+T(L)](this.get(L));}},_setAttrUI:function(L){this[g+T(L.attrName)](L.newVal,L.src);},_strSetter:function(L){return B.merge(this.get(A),L);},getString:function(L){return this.get(A)[L];},getStrings:function(){return this.get(A);},_UI_ATTRS:{BIND:F,SYNC:F.concat(j)}});B.Widget=C;},"@VERSION@",{requires:["attribute","event-focus","base-base","base-pluginhost","node-base","node-style","node-event-delegate","classnamemanager"]});